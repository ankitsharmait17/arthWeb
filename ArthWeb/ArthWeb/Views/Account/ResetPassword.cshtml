@model ArthWeb.Models.ResetPasswordViewModel
@{
    ViewBag.Title = "Reset password";
}

<h2>@ViewBag.Title.</h2>

<div class="container">
    <div class="row">
        <div class="row">
            <div class="col s12">
                @if (ViewBag.Error != null)
                {
                    <h3>@ViewBag.Error</h3>
                }
            </div>
        </div>
        <div class="col s12 center">
            @using (Html.BeginForm("ResetPassword", "Account", FormMethod.Post, new { @onsubmit="return validate();" }))
            {
                @Html.AntiForgeryToken()
                <h4>Reset your password.</h4>
                <hr />
                @Html.ValidationSummary("", new { @class = "text-danger" })
                @Html.HiddenFor(x => x.Email);
                <div class="input-field">
                    @Html.PasswordFor(m => m.Password)
                    @Html.LabelFor(m => m.Password)
                </div>
                <div class="input-field">
                    @Html.PasswordFor(m => m.ConfirmPassword)
                    @Html.LabelFor(m => m.ConfirmPassword)
                </div>
                <input type="submit" class="btn btn-default" value="Reset" />
                    
            }

            </div>
        </div>
    </div>

<script>
    $(document).ready(function () {
        var mess = "@ViewBag.Error";
        if (mess != "") {
            $('input').prop('disabled', 'disabled');
        }
        $('#Email').val("@ViewBag.email");
    });

    function validate() {
        var pass = $('#Password').val();
        var confirmPass = $('#ConfirmPassword').val();
        if (pass.length != 8) {
            showWarningAlert("minimum password size is 8.");
            return false;
        }
        if (pass.length != confirmPass.length || pass != confirmPass) {
            showWarningAlert("password and confirm password are not equal.");
            return false;
        }
        return true;
    }
 </script>